    Jmp     start       ; переход на начало головной программы

Start:
    ORG     100H        ; директива выделения памяти программ
                        ; место расположения рабочей программы

    MOV     R0, #AH     ; rr  - имя регистра ( любого по выбору студента)
                        ; nn  - число повторений теста   ( 5-10 по выбору
                        ; студента)

    MOV     p1, #FFH    
    MOV     A, #0H
    MOV     r3, A
    
Repeate:                ; метка возврата
    NOP                 ; 3 команды имитируют  выполнение действий
    NOP                 ; предшествующих операции ввода
    NOP

Test:     
    MOV     A, p1       ; чтение данных из порта в аккумулятор
                        ; pp – имя порта по выбору студента
    MOV     r1, A       ; сохранение считанного значения в любом регистре –
                        ; нужно если проверка требует операций над исходным
                        ; значением
    
;<<   команды вычисления условия   выполнения   заданного действия>>
    MOV     r2, A
    XLR     A, r1
    JZ      test        ; команда проверки заданного условия т.е.
                        ; программная петля ожидания
                        ; могут потребоваться другие команды проверки  (JNZ,JC и т.п)
    MOV     A, r1
    MOV     r2, A
    CALL    subr        ; вызов программы по принципу программного опроcа                                         
                        ; готовности
    MOV     p1, a       ; выдача результата на порт вывода
    DJNZ    R0, Repeate ;  повторить для новых данных если они не исчерпаны
    JMP     $           ; блокировка продолжения после исчерпания теста

Subr:
    ;<<  преобразование принятых с порта данных>>
    MOV     A, r3
    ADD     A, #3H
    CPL     A
    MOV     r3, A

    Ret                 ; возврат в основную программу
